<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Company Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<nav class="navbar navbar-dark bg-success mb-4">
  <div class="container">
    <span class="navbar-brand">Recruiter Portal - <span th:text="${user.fullName}"></span></span>
    <div class="d-flex">
      <a href="/company/post-job" class="btn btn-light btn-sm fw-bold me-2">+ Post New Job</a>
      <a href="/login" class="btn btn-outline-light btn-sm">Logout</a>
    </div>
  </div>
</nav>

<div class="container">
  <h3 class="mb-3 text-success">Your Active Job Postings</h3>

  <div th:if="${param.success}" class="alert alert-success">Job Posted Successfully!</div>

  <div class="card shadow">
    <div class="card-body">
      <table class="table table-striped align-middle">
        <thead class="table-dark">
        <tr>
          <th>Role</th>
          <th>Package</th>
          <th>CGPA Cutoff</th>
          <th>Deadline</th>
          <th>Action</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="job : ${jobs}">
          <td th:text="${job.jobTitle}">SDE</td>
          <td th:text="${job.packageLPA}">10 LPA</td>
          <td th:text="${job.requiredCgpa}">7.5</td>
          <td th:text="${job.deadline}">2026-10-10</td>
          <td>
            <a th:href="@{'/company/job/' + ${job.id} + '/applicants'}" class="btn btn-sm btn-primary">
              View Applicants
            </a>
          </td>
        </tr>
        <tr th:if="${#lists.isEmpty(jobs)}">
          <td colspan="5" class="text-center text-muted py-4">
            You haven't posted any jobs yet. <a href="/company/post-job">Post one now?</a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

</body>
</html>